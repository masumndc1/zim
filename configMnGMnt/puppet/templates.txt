

...
... erb file templating:
... a good url on templating on erb:
... https://www.puppet.com/docs/puppet/8/lang_template_erb.html
...
... explanation:
...

<%= variable or code %>
  This tag is replaced with the value of the variable, or result of the code.
<% code block %>
  The code is executed. Nothing is returned unless the code prints output.
<%# a comment %>
  This tag is removed from the output.
<% code block -%>
  Immediately trailing newlines or whitespace is removed. Use to prevent blank lines.
<%- code block %>
  Leading newlines or whitespace is removed. Use when indenting template tags.
<%= variable or code -%>
  Removes trailing whitespace after the result of the code.
  (There is no option for trimming leading whitespace.)
<%% %%>
  Double percent signs are replaced with a single percent sign.
  Use to prevent interpolation
<% end %>
  end of code block

...
... example of using template:
...

class alpha {
  # Get necessary value from related module 'beta' 
  $important_setting = $beta::foo

  file { '/etc/alpha.conf':
    content => template('alpha/alpha.conf.erb'),
  }
}

template alpha.conf.erb:
  # this won't silently become nil if the variable reference is no longer good
  important setting = '<%= @important_setting %>'

... note above, how variable $important_settings getting value in class
... but used as @important_setting in the template. the $ and @ sign are
... important here.
...
...
... another example of using template

file { '/etc/puppetlabs/puppet/puppet.conf':
  content => template('puppet/puppet.conf.erb'),
}

... content of puppet.conf.erb in puppet/templates/puppet.conf.erb file.
...

    # Generated by Puppet ERB template processor
    [main]
        log_level = <%= @common_loglevel %>
    # This is used by "puppet agent"
    [agent]
    <% if @agent_loglevel -%>
        log_level = <%= @agent_loglevel %>
    <% end -%>
        server = <%= @server -%>
    # This is used for "puppet apply"
    [user]
    <% if @apply_loglevel -%>
        log_level = <%= @apply_loglevel %>
    <% end -%>

...
... one more example of using template

# template(<FILE REFERENCE>, [<ADDITIONAL FILES>, ...])
file { '/etc/ntp.conf':
  ensure  => file,
  content => template('ntp/ntp.conf.erb'),
  # Loads /etc/puppetlabs/code/environments/production/modules/ntp/templates/ntp.conf.erb
}

