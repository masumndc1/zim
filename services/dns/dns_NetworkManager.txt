

... adding dns entry in /etc/resolv.conf in centos7
... we will use NetworkManager in this case.

... also

[root@centos7 ~]# cat /etc/NetworkManager/NetworkManager.conf

dns=none

... this will prevent NetworkManager to edit /etc/resolv.conf
... /etc/resolv.conf will be generated, using the entry from
... /etc/sysconfig/network

[root@centos7 ~]# cat /etc/sysconfig/network
# Created by anaconda
DNS1=8.8.4.4
[root@centos7 ~]# cat /etc/resolv.conf
# Generated by NetworkManager
nameserver 8.8.4.4
[root@centos7 ~]#

[root@localhost dispatcher.d]# systemctl restart NetworkManager

[root@localhost dispatcher.d]# cat /etc/resolv.conf
nameserver 8.8.4.4
[root@localhost dispatcher.d]#

...
