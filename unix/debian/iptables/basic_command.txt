
// if we want the current running iptables configuration to be saved
// to a place for future use then "service iptables save" is the
// command.

[root@localhost sysconfig]# pwd
/etc/sysconfig
[root@localhost sysconfig]#
[root@localhost sysconfig]# service iptables save


// this is the file where all the current iptables is stored
// after issueing the commands

[root@localhost sysconfig]# cat iptables

# Generated by iptables-save v1.4.7 on Wed Mar 30 10:07:46 2016
*nat
:PREROUTING ACCEPT [0:0]
:POSTROUTING ACCEPT [4:280]
:OUTPUT ACCEPT [4:280]
-A POSTROUTING -s 172.16.78.0/24 -o eth6 -j SNAT --to-source 192.168.11.128
COMMIT
# Completed on Wed Mar 30 10:07:46 2016
# Generated by iptables-save v1.4.7 on Wed Mar 30 10:07:46 2016
*filter
:INPUT ACCEPT [4067:5547340]
:FORWARD ACCEPT [2:156]
:OUTPUT ACCEPT [2391:126464]
COMMIT
# Completed on Wed Mar 30 10:07:46 2016

[root@localhost sysconfig]#


// another way of saving iptables commands to a file is like
// below.

[root@localhost ~]# iptables-save >> /root/ipt.save
[root@localhost ~]# ls
anaconda-ks.cfg  Documents  install.log         iptables_me.sh  Music     Public       Templates
Desktop          Downloads  install.log.syslog  ipt.save        Pictures  public_html  Videos
[root@localhost ~]#


// now when time comes to restore the just simply run the
// command "iptables-restore"

[root@localhost ~]# iptables-restore
[root@localhost ~]#
[root@localhost ~]#


// or simply running following command from a file.

[root@localhost ~]# iptables-restore ipt.save
[root@localhost ~]#

// or

[root@localhost ~]# cat ipt.save | iptables-restore
