

...
... if you have wireless conection error after installing debian 12 then install
...
... apt install hostapd
...
... check wireless card
root@lap-macpro:/home/masum# lspci | grep -E "Atheros|Broadcom"

... after installing debian13 in macmini, i was having issue with wireless.
... mostly the broadcom driver was not found there.
... before installation, you need to add contrib in source list.

root@lap-macmini:/home/masum# cat /etc/apt/sources.list
deb http://deb.debian.org/debian/ trixie main contrib non-free-firmware
deb-src http://deb.debian.org/debian/ trixie main contrib non-free-firmware

$ sudo apt install firmware-b43-installer
$ sudo apt install firmware-linux-nonfree


root@lap-macmini:/home# /etc/network/interfaces

allow-hotplug wlp2s0b1
iface wlp2s0b1 inet dhcp
  wpa-ssid "whatwhatwhat"
  wpa-psk "StrongPassHere"

root@lap-macmini:/home/# iwconfig
lo        no wireless extensions.

enp1s0f0  no wireless extensions.

wlp2s0b1  IEEE 802.11  ESSID:"whatwhatwhat"
          Mode:Managed  Frequency:2.462 GHz  Access Point:
          Bit Rate=48 Mb/s   Tx-Power=20 dBm
          Retry short limit:7   RTS thr:off   Fragment thr:off
          Encryption key:off
          Power Management:off
          Link Quality=68/70  Signal level=-42 dBm
          Rx invalid nwid:0  Rx invalid crypt:0  Rx invalid frag:0
          Tx excessive retries:232  Invalid misc:573   Missed beacon:0

... in addition to above, in macpro, I needed to do the following things
...
... added non-free in the source list

root@lap-macmini:/home/masum# cat /etc/apt/sources.list
deb http://deb.debian.org/debian/ trixie main contrib non-free-firmware non-free
deb-src http://deb.debian.org/debian/ trixie main contrib non-free-firmware non-free


... installed broadcom sta driver and kernel headers and broadcom b43 drivers
... broadcom-sta-dkms is important for 5ghz network.

$ sudo apt install firmware-realtek firmware-iwlwifi -- (optional) and for realtek

$ sudo apt install firmware-linux-nonfree
$ sudo apt install firmware-b43-installer
# apt-get install linux-headers-$(uname -r)
# apt-get install broadcom-sta-common broadcom-sta-source broadcom-sta-dkms

... install following tools. these will give iwconfig, dhclient and nmcli commands.

# apt install wireless-tools isc-dhcp-client network-manager

... (optional) try following if they are help.
$ sudo wpa_passphrase "WhatWhatWhat" "Str0ngP@ssH3re" > /etc/wpa_supplicant.conf
$ sudo dhclient wlp13s0
$ sudo wpa_supplicant -B -i wlp13s0 -c /etc/wpa_supplicant.conf

... in macpro, after the debian update, I had lost wireless connections.
... remedy was following:

❯ lspci -nn | grep Network
0d:00.0 Network controller [0280]: Broadcom Inc. and subsidiaries BCM4360 802.11ac
Dual Band Wireless Network Adapter [14e4:43a0] (rev 03)
masum@lap-macpro ~
❯

... For BCM4311–BCM4360 and similar PCIe chipsets:
sudo apt install broadcom-sta-dkms linux-headers-$(uname -r)

... For older BCM43xx chipsets
sudo apt install firmware-b43-installer b43-fwcutter

sudo apt install linux-headers-$(uname -r)
sudo dpkg-reconfigure broadcom-sta-dkms

... check if the correct module loaded
❯ lsmod | grep wl
wl                   6459392  0
cfg80211             1392640  1 wl

... if needed unload others modules.
... sudo modprobe -r b43 bcma brcmsmac
...
... you may also need to disable NetworkManager
systemctl stop NetworkManager
systemctl disable NetworkManager
